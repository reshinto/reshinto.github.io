"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[52906],{3905:(n,e,t)=>{t.d(e,{Zo:()=>k,kt:()=>d});var a=t(67294);function r(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function i(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,a)}return t}function c(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?i(Object(t),!0).forEach((function(e){r(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function o(n,e){if(null==n)return{};var t,a,r=function(n,e){if(null==n)return{};var t,a,r={},i=Object.keys(n);for(a=0;a<i.length;a++)t=i[a],e.indexOf(t)>=0||(r[t]=n[t]);return r}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(a=0;a<i.length;a++)t=i[a],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}var s=a.createContext({}),l=function(n){var e=a.useContext(s),t=e;return n&&(t="function"==typeof n?n(e):c(c({},e),n)),t},k=function(n){var e=l(n.components);return a.createElement(s.Provider,{value:e},n.children)},p={inlineCode:"code",wrapper:function(n){var e=n.children;return a.createElement(a.Fragment,{},e)}},g=a.forwardRef((function(n,e){var t=n.components,r=n.mdxType,i=n.originalType,s=n.parentName,k=o(n,["components","mdxType","originalType","parentName"]),g=l(t),d=r,f=g["".concat(s,".").concat(d)]||g[d]||p[d]||i;return t?a.createElement(f,c(c({ref:e},k),{},{components:t})):a.createElement(f,c({ref:e},k))}));function d(n,e){var t=arguments,r=e&&e.mdxType;if("string"==typeof n||r){var i=t.length,c=new Array(i);c[0]=g;var o={};for(var s in e)hasOwnProperty.call(e,s)&&(o[s]=e[s]);o.originalType=n,o.mdxType="string"==typeof n?n:r,c[1]=o;for(var l=2;l<i;l++)c[l]=t[l];return a.createElement.apply(null,c)}return a.createElement.apply(null,t)}g.displayName="MDXCreateElement"},29147:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>s,contentTitle:()=>c,default:()=>p,frontMatter:()=>i,metadata:()=>o,toc:()=>l});var a=t(83117),r=(t(67294),t(3905));const i={},c="Example 2",o={unversionedId:"interviewPrep/designPatterns/Behavioral_patterns/State/swift/example2",id:"interviewPrep/designPatterns/Behavioral_patterns/State/swift/example2",title:"Example 2",description:"",source:"@site/docs/interviewPrep/designPatterns/Behavioral_patterns/State/swift/example2.md",sourceDirName:"interviewPrep/designPatterns/Behavioral_patterns/State/swift",slug:"/interviewPrep/designPatterns/Behavioral_patterns/State/swift/example2",permalink:"/docs/interviewPrep/designPatterns/Behavioral_patterns/State/swift/example2",draft:!1,editUrl:"https://github.com/reshinto/reshinto.github.io/blob/dev/docs/interviewPrep/designPatterns/Behavioral_patterns/State/swift/example2.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Swift Example",permalink:"/docs/interviewPrep/designPatterns/Behavioral_patterns/State/swift/"},next:{title:"TypeScript Example",permalink:"/docs/interviewPrep/designPatterns/Behavioral_patterns/State/typescript/"}},s={},l=[],k={toc:l};function p(n){let{components:e,...t}=n;return(0,r.kt)("wrapper",(0,a.Z)({},k,t,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"example-2"},"Example 2"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-swift"},'import XCTest\n\nclass StateRealWorld: XCTestCase {\n\n    func test() {\n\n        print("Client: I\'m starting working with a location tracker")\n        let tracker = LocationTracker()\n\n        print()\n        tracker.startTracking()\n\n        print()\n        tracker.pauseTracking(for: 2)\n\n        print()\n        tracker.makeCheckIn()\n\n        print()\n        tracker.findMyChildren()\n\n        print()\n        tracker.stopTracking()\n    }\n}\n\nclass LocationTracker {\n\n    /// Location tracking is enabled by default\n    private lazy var trackingState: TrackingState = EnabledTrackingState(tracker: self)\n\n    func startTracking() {\n        trackingState.startTracking()\n    }\n\n    func stopTracking() {\n        trackingState.stopTracking()\n    }\n\n    func pauseTracking(for time: TimeInterval) {\n        trackingState.pauseTracking(for: time)\n    }\n\n    func makeCheckIn() {\n        trackingState.makeCheckIn()\n    }\n\n    func findMyChildren() {\n        trackingState.findMyChildren()\n    }\n\n    func update(state: TrackingState) {\n        trackingState = state\n    }\n}\n\nprotocol TrackingState {\n\n    func startTracking()\n    func stopTracking()\n    func pauseTracking(for time: TimeInterval)\n\n    func makeCheckIn()\n    func findMyChildren()\n}\n\nclass EnabledTrackingState: TrackingState {\n\n    private weak var tracker: LocationTracker?\n\n    init(tracker: LocationTracker?) {\n        self.tracker = tracker\n    }\n\n    func startTracking() {\n        print("EnabledTrackingState: startTracking is invoked")\n        print("EnabledTrackingState: tracking location....1")\n        print("EnabledTrackingState: tracking location....2")\n        print("EnabledTrackingState: tracking location....3")\n    }\n\n    func stopTracking() {\n        print("EnabledTrackingState: Received \'stop tracking\'")\n        print("EnabledTrackingState: Changing state to \'disabled\'...")\n        tracker?.update(state: DisabledTrackingState(tracker: tracker))\n        tracker?.stopTracking()\n    }\n\n    func pauseTracking(for time: TimeInterval) {\n        print("EnabledTrackingState: Received \'pause tracking\' for \\(time) seconds")\n        print("EnabledTrackingState: Changing state to \'disabled\'...")\n        tracker?.update(state: DisabledTrackingState(tracker: tracker))\n        tracker?.pauseTracking(for: time)\n    }\n\n    func makeCheckIn() {\n        print("EnabledTrackingState: performing check-in at the current location")\n    }\n\n    func findMyChildren() {\n        print("EnabledTrackingState: searching for children...")\n    }\n}\n\nclass DisabledTrackingState: TrackingState {\n\n    private weak var tracker: LocationTracker?\n\n    init(tracker: LocationTracker?) {\n        self.tracker = tracker\n    }\n\n    func startTracking() {\n        print("DisabledTrackingState: Received \'start tracking\'")\n        print("DisabledTrackingState: Changing state to \'enabled\'...")\n        tracker?.update(state: EnabledTrackingState(tracker: tracker))\n    }\n\n    func pauseTracking(for time: TimeInterval) {\n        print("DisabledTrackingState: Pause tracking for \\(time) seconds")\n\n        for i in 0...Int(time) {\n            print("DisabledTrackingState: pause...\\(i)")\n        }\n\n        print("DisabledTrackingState: Time is over")\n        print("DisabledTrackingState: Returing to \'enabled state\'...\\n")\n        self.tracker?.update(state: EnabledTrackingState(tracker: self.tracker))\n        self.tracker?.startTracking()\n    }\n\n    func stopTracking() {\n        print("DisabledTrackingState: Received \'stop tracking\'")\n        print("DisabledTrackingState: Do nothing...")\n    }\n\n    func makeCheckIn() {\n        print("DisabledTrackingState: Received \'make check-in\'")\n        print("DisabledTrackingState: Changing state to \'enabled\'...")\n        tracker?.update(state: EnabledTrackingState(tracker: tracker))\n        tracker?.makeCheckIn()\n    }\n\n    func findMyChildren() {\n        print("DisabledTrackingState: Received \'find my children\'")\n        print("DisabledTrackingState: Changing state to \'enabled\'...")\n        tracker?.update(state: EnabledTrackingState(tracker: tracker))\n        tracker?.findMyChildren()\n    }\n}\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Client: I'm starting working with a location tracker\n\nEnabledTrackingState: startTracking is invoked\nEnabledTrackingState: tracking location....1\nEnabledTrackingState: tracking location....2\nEnabledTrackingState: tracking location....3\n\nEnabledTrackingState: Received 'pause tracking' for 2.0 seconds\nEnabledTrackingState: Changing state to 'disabled'...\nDisabledTrackingState: Pause tracking for 2.0 seconds\nDisabledTrackingState: pause...0\nDisabledTrackingState: pause...1\nDisabledTrackingState: pause...2\nDisabledTrackingState: Time is over\nDisabledTrackingState: Returing to 'enabled state'...\n\nEnabledTrackingState: startTracking is invoked\nEnabledTrackingState: tracking location....1\nEnabledTrackingState: tracking location....2\nEnabledTrackingState: tracking location....3\n\nEnabledTrackingState: performing check-in at the current location\n\nEnabledTrackingState: searching for children...\n\nEnabledTrackingState: Received 'stop tracking'\nEnabledTrackingState: Changing state to 'disabled'...\nDisabledTrackingState: Received 'stop tracking'\nDisabledTrackingState: Do nothing...\n")))}p.isMDXComponent=!0}}]);